{"version":3,"sources":["webpack:///./src/app/trips/trips.module.ts","webpack:///./src/app/trips/trips.page.html","webpack:///./src/app/trips/trips.page.scss","webpack:///./src/app/trips/trips.page.ts"],"names":[],"mappings":"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","file":"trips-trips-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TripsPage } from './trips.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TripsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TripsPage]\n})\nexport class TripsPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title mode=\\\"md\\\">Trips</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div *ngIf=\\\"items?.length\\\">\\n\\n    <div class=\\\"list-item\\\" *ngFor=\\\"let list of items\\\">\\n      <ion-row>\\n        <ion-col size=\\\"8\\\" no-padding>\\n          <p>\\n            <ion-icon name=\\\"pin\\\"></ion-icon> &nbsp; Distance :\\n          </p>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\" no-padding>\\n          <p class=\\\"list-text\\\">{{list?.distance}} {{list?.unit}}</p>\\n        </ion-col>\\n        <ion-col size=\\\"8\\\" no-padding>\\n          <p>\\n            <ion-icon name=\\\"car\\\"></ion-icon> &nbsp; Vehicle Name :\\n          </p>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\" no-padding>\\n          <p class=\\\"list-text\\\">{{list?.vehicleType}}</p>\\n        </ion-col>\\n        <ion-col size=\\\"8\\\" no-padding>\\n          <p>\\n            <ion-icon name=\\\"calendar\\\"></ion-icon> &nbsp; Date :\\n          </p>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\" no-padding>\\n          <p class=\\\"list-text\\\">{{list?.date | date: 'dd/MM/yyyy'}}</p>\\n        </ion-col>\\n      </ion-row>\\n    </div>\\n  </div>\\n  <div class=\\\"list-item\\\" *ngIf=\\\"!items.length\\\" class=\\\"nodata\\\"> No data found</div>\\n\\n  <ion-button (click)=\\\"export()\\\" color=\\\"primary\\\">Export Trips</ion-button>\\n</ion-content>\"","module.exports = \".list-item {\\n  box-shadow: 0px 0px 4px 1px #efebeb;\\n  margin-bottom: 20px;\\n  padding: 10px;\\n}\\n\\n.list-item p {\\n  margin: 0px;\\n  line-height: 22px;\\n  font-size: 14px;\\n  color: #1b304c;\\n}\\n\\n.text-icon {\\n  font-size: 18px;\\n  margin-right: 15px;\\n  border-radius: 50%;\\n  padding: 2px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy8yMDIydTEzL0Rlc2t0b3AvdW50aXRsZWQgZm9sZGVyIDQvQXJjaGl2ZS9zcmMvYXBwL3RyaXBzL3RyaXBzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdHJpcHMvdHJpcHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksbUNBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7QUNBSjs7QURFQTtFQUVJLFdBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FDQUo7O0FER0E7RUFFSSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUNESiIsImZpbGUiOiJzcmMvYXBwL3RyaXBzL3RyaXBzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5saXN0LWl0ZW1cbntcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDRweCAxcHggI2VmZWJlYjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG59XG4ubGlzdC1pdGVtIHBcbntcbiAgICBtYXJnaW46IDBweDtcbiAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY29sb3I6ICMxYjMwNGM7XG59XG5cbi50ZXh0LWljb25cbntcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBwYWRkaW5nOiAycHg7XG59IiwiLmxpc3QtaXRlbSB7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggNHB4IDFweCAjZWZlYmViO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4ubGlzdC1pdGVtIHAge1xuICBtYXJnaW46IDBweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY29sb3I6ICMxYjMwNGM7XG59XG5cbi50ZXh0LWljb24ge1xuICBmb250LXNpemU6IDE4cHg7XG4gIG1hcmdpbi1yaWdodDogMTVweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBwYWRkaW5nOiAycHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, ToastController, Events } from '@ionic/angular';\nimport { StorageService } from '../storage.service';\nimport { HttpClient } from '@angular/common/http';\nimport { SQLitePorter } from '@ionic-native/sqlite-porter/ngx';\nimport { SQLite } from '@ionic-native/sqlite/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { FirebaseAnalytics } from '@ionic-native/firebase-analytics/ngx';\nimport { PageTrack } from '../decorators/page-track.decorator';\nimport { SettingService } from '../service/setting.service';\n\n@Component({\n  selector: 'app-trips',\n  templateUrl: './trips.page.html',\n  styleUrls: ['./trips.page.scss']\n})\n@PageTrack('Trips Screen')\nexport class TripsPage implements OnInit {\n  items: any = [];\n  userid: any = '';\n  constructor(\n    public navCtrl: NavController,\n    private http: HttpClient,\n    public toastCtrl: ToastController,\n    private storageService: StorageService,\n    private settingService: SettingService,\n    private sqlitePorter: SQLitePorter,\n    private file: File,\n    private sqlite: SQLite,\n    private firebaseAnalytics: FirebaseAnalytics,\n    public events: Events\n  ) {\n    this.items = [];\n    this.firebaseAnalytics.setCurrentScreen('tripsScreen');\n    this.events.subscribe('user:created', (time) => {\n      this.userid = this.settingService.getUserId();\n    });\n  }\n\n  ngOnInit() {\n    this.userid = this.settingService.getUserId();\n    this.viewtrips();\n  }\n  goTo(path: any) {\n    this.navCtrl.navigateRoot('/' + path);\n  }\n  shoHide() {\n    const x = document.getElementById('loc');\n    if (x.style.display === 'none') {\n      x.style.display = 'block';\n    } else {\n      x.style.display = 'none';\n    }\n  }\n  async presentToast(msg) {\n    const toast = await this.toastCtrl.create({\n      message: msg,\n      duration: 2000,\n      mode: 'md',\n      cssClass: 'customToast'\n    });\n    toast.present();\n  }\n  viewtrips() {\n    this.storageService\n      .viewTrip(this.userid)\n      .then(res => {\n        this.items = [];\n        if (res.rows.length > 0) {\n          for (let i = 0; i < res.rows.length; i++) {\n            this.items.push({\n              id: res.rows.item(i).id,\n              origin: res.rows.item(i).origin,\n              destination: res.rows.item(i).destination,\n              mode: res.rows.item(i).mode,\n              distance: res.rows.item(i).distance,\n              unit: res.rows.item(i).unit,\n              vehicleType: res.rows.item(i).vehicleType,\n              date: res.rows.item(i).date\n            });\n          }\n        } else {\n          this.items = [];\n        }\n      })\n      .catch(e => {\n        this.items = [];\n        console.log(e);\n      });\n  }\n\n  pressed(event) {\n    console.log('event', event);\n  }\n\n  export() {\n    const csv: any = this.convertToCSV();\n    this.file\n      .createFile(this.file.externalDataDirectory + 'RSM/', 'trips.csv', true)\n      .then(\n        success => {\n          this.file\n            .writeFile(\n              this.file.externalDataDirectory + 'RSM/',\n              'trips.csv',\n              csv\n            )\n            .then(\n              success => { },\n              error => {\n                console.log('rr', error);\n              }\n            );\n        },\n        error => { }\n      );\n  }\n  convertToCSV() {\n    let csv: any = '';\n    let line: any = '';\n\n    const SpT = this.items[0].length;\n    const anzahlTeams = this.items.length;\n\n    // Header\n    for (let i = 0; i < anzahlTeams; i++) {\n      if (line != '') { line += ';'; }\n      line += 'Team ' + (i + 1);\n    }\n    csv += line + '\\r\\n';\n\n    // Teams\n    for (let i = 0; i < SpT; i++) {\n      line = '';\n      for (let j = 0; j < anzahlTeams; j++) {\n        if (line != '') { line += ';'; }\n\n        line += this.items[j][i];\n      }\n      csv += line + '\\r\\n';\n    }\n    console.log(csv);\n    return csv;\n  }\n}\n"],"sourceRoot":""}